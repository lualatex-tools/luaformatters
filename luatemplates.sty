\NeedsTeXFormat{LaTeX2e}%
\ProvidesPackage{luatemplates}[2019/06/28 v0.5]

\RequirePackage{lyluatextools}
% TODO: Either require xcolor or make the color handling
% depend on whether a color package is loaded.
% https://github.com/uliska/luatemplates/issues/1

% Options
\directlua{
  local _opts = lyluatex_options
  template_opts = _opts.Opts:new('template_opts', {
    ['color'] = {'false', 'true', ''},
      ['default-color'] = {'blue'},
    ['element-separator'] = {	'{,}' },
    ['number-case'] = {
      'normal', 'allsmallcaps', 'smallcaps', 'upper', 'lower'
      },
    ['range-follow'] = {'f.'},
    ['range-ffollow'] = {'ff.'},
    ['range-sep'] = {'--'},
    ['list-sep'] = { '{, }'},
    ['list-last-sep'] = {' and '},
  })
}
\directlua{
  lua_templates = require(
    kpse.find_file("luatemplates.lua") or "luatemplates.lua"
  )
}
